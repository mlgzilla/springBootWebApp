<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.css">
</head>
<body>
<nav class="navbar navbar-expand navbar-dark bg-dark">
    <div class="collapse navbar-collapse justify-content-md-center" id="navbarsExample02">
        <a class="navbar-brand" href="#">Task tracker</a>
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" th:href="@{/}">Задачи</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Проекты</a>
            </li>
        </ul>
    </div>
    <div class="collapse navbar-collapse justify-content-md-center" id="navbarsExample03">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="#" th:text="${userDto.name}">Username</a>
            </li>
            <li class="nav-item">
                <a class="btn btn-danger" th:href="@{/logout}">Выход</a>
            </li>
        </ul>
    </div>
</nav>

<div class="mx-5 my-5">
    <p class="h1" th:text="${taskDto.name}">Task name</p>
    <p class="h5" th:text="${taskDto.description}">Task description</p>
    <p class="" th:text="${taskDto.status}">Task status</p>
    <p class="" th:text="${taskDto.dateCreated}">Task dateCreated</p>
    <p class="" th:if="${taskDto.deadline!=null}" th:text="${taskDto.deadline}">Task deadline</p>
    <p class="" th:if="${taskDto.projectId!=null}" th:text="${projectName}">Task project</p>
    <br>
    <p class="h4">Comments:</p>
    <div th:if="${comments!=null}" th:each="comment: ${comments}">
        <p class=""> <span th:text="${comment.author.name} "></span> <span th:text="${comment.author.surename}"></span></p>
        <p class="" th:text="${comment.getContents()}">Task comments</p>
        <p class="" th:text="${comment.getDate()}">Task comments</p>
    </div>
</div>
<form th:action="@{/comment/}" th:object="${newComment}" th:method="post" class="mx-5 my-5">
    <input type="text" th:field="*{contents}" class="form-control" id="contents"/>
    <input type="hidden" th:value="${userDto.id}" class="form-control" id="user.id" name="user.id"/>
    <input type="hidden" th:value="${taskDto.id}" class="form-control" id="task.id" name="task.id"/>
    <input type="submit" class="btn btn-primary" value="Отправить"/>
</form>
</body>
</html>